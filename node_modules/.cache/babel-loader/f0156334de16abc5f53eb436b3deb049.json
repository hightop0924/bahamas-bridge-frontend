{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useBridgeContext } from 'contexts/BridgeContext';\nimport { useBridgeDirection } from 'hooks/useBridgeDirection';\nimport { fetchTokenLimits } from 'lib/bridge';\nconst {\n  useState,\n  useCallback,\n  useEffect\n} = require('react');\nexport const useTokenLimits = () => {\n  _s();\n  const {\n    fromToken,\n    toToken,\n    currentDay\n  } = useBridgeContext();\n  const {\n    bridgeDirection,\n    homeChainId,\n    foreignChainId\n  } = useBridgeDirection();\n  const [tokenLimits, setTokenLimits] = useState();\n  const [fetching, setFetching] = useState(false);\n  const updateTokenLimits = useCallback(async () => {\n    if (fromToken && toToken && fromToken.chainId && toToken.chainId && (fromToken.symbol.includes(toToken.symbol) || toToken.symbol.includes(fromToken.symbol)) && [homeChainId, foreignChainId].includes(fromToken.chainId) && [homeChainId, foreignChainId].includes(toToken.chainId) && bridgeDirection && currentDay) {\n      setFetching(true);\n      const limits = await fetchTokenLimits(bridgeDirection, fromToken, toToken, currentDay);\n      setTokenLimits(limits);\n      setFetching(false);\n    }\n  }, [fromToken, toToken, bridgeDirection, homeChainId, foreignChainId, currentDay]);\n  useEffect(() => updateTokenLimits(), [updateTokenLimits]);\n  return {\n    tokenLimits,\n    fetching,\n    refresh: updateTokenLimits\n  };\n};\n_s(useTokenLimits, \"0qBNR5ma6T3dpsC5Bq4WNwuhpSw=\", false, function () {\n  return [useBridgeContext, useBridgeDirection];\n});","map":{"version":3,"names":["useBridgeContext","useBridgeDirection","fetchTokenLimits","useState","useCallback","useEffect","require","useTokenLimits","_s","fromToken","toToken","currentDay","bridgeDirection","homeChainId","foreignChainId","tokenLimits","setTokenLimits","fetching","setFetching","updateTokenLimits","chainId","symbol","includes","limits","refresh"],"sources":["/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/hooks/useTokenLimits.js"],"sourcesContent":["import { useBridgeContext } from 'contexts/BridgeContext';\nimport { useBridgeDirection } from 'hooks/useBridgeDirection';\nimport { fetchTokenLimits } from 'lib/bridge';\n\nconst { useState, useCallback, useEffect } = require('react');\n\nexport const useTokenLimits = () => {\n  const { fromToken, toToken, currentDay } = useBridgeContext();\n  const { bridgeDirection, homeChainId, foreignChainId } = useBridgeDirection();\n  const [tokenLimits, setTokenLimits] = useState();\n  const [fetching, setFetching] = useState(false);\n\n  const updateTokenLimits = useCallback(async () => {\n    if (\n      fromToken &&\n      toToken &&\n      fromToken.chainId &&\n      toToken.chainId &&\n      (fromToken.symbol.includes(toToken.symbol) ||\n        toToken.symbol.includes(fromToken.symbol)) &&\n      [homeChainId, foreignChainId].includes(fromToken.chainId) &&\n      [homeChainId, foreignChainId].includes(toToken.chainId) &&\n      bridgeDirection &&\n      currentDay\n    ) {\n      setFetching(true);\n      const limits = await fetchTokenLimits(\n        bridgeDirection,\n        fromToken,\n        toToken,\n        currentDay,\n      );\n      setTokenLimits(limits);\n      setFetching(false);\n    }\n  }, [\n    fromToken,\n    toToken,\n    bridgeDirection,\n    homeChainId,\n    foreignChainId,\n    currentDay,\n  ]);\n\n  useEffect(() => updateTokenLimits(), [updateTokenLimits]);\n\n  return { tokenLimits, fetching, refresh: updateTokenLimits };\n};\n"],"mappings":";AAAA,SAASA,gBAAgB,QAAQ,wBAAwB;AACzD,SAASC,kBAAkB,QAAQ,0BAA0B;AAC7D,SAASC,gBAAgB,QAAQ,YAAY;AAE7C,MAAM;EAAEC,QAAQ;EAAEC,WAAW;EAAEC;AAAU,CAAC,GAAGC,OAAO,CAAC,OAAO,CAAC;AAE7D,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM;IAAEC,SAAS;IAAEC,OAAO;IAAEC;EAAW,CAAC,GAAGX,gBAAgB,CAAC,CAAC;EAC7D,MAAM;IAAEY,eAAe;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGb,kBAAkB,CAAC,CAAC;EAC7E,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,CAAC;EAChD,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAMgB,iBAAiB,GAAGf,WAAW,CAAC,YAAY;IAChD,IACEK,SAAS,IACTC,OAAO,IACPD,SAAS,CAACW,OAAO,IACjBV,OAAO,CAACU,OAAO,KACdX,SAAS,CAACY,MAAM,CAACC,QAAQ,CAACZ,OAAO,CAACW,MAAM,CAAC,IACxCX,OAAO,CAACW,MAAM,CAACC,QAAQ,CAACb,SAAS,CAACY,MAAM,CAAC,CAAC,IAC5C,CAACR,WAAW,EAAEC,cAAc,CAAC,CAACQ,QAAQ,CAACb,SAAS,CAACW,OAAO,CAAC,IACzD,CAACP,WAAW,EAAEC,cAAc,CAAC,CAACQ,QAAQ,CAACZ,OAAO,CAACU,OAAO,CAAC,IACvDR,eAAe,IACfD,UAAU,EACV;MACAO,WAAW,CAAC,IAAI,CAAC;MACjB,MAAMK,MAAM,GAAG,MAAMrB,gBAAgB,CACnCU,eAAe,EACfH,SAAS,EACTC,OAAO,EACPC,UACF,CAAC;MACDK,cAAc,CAACO,MAAM,CAAC;MACtBL,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC,EAAE,CACDT,SAAS,EACTC,OAAO,EACPE,eAAe,EACfC,WAAW,EACXC,cAAc,EACdH,UAAU,CACX,CAAC;EAEFN,SAAS,CAAC,MAAMc,iBAAiB,CAAC,CAAC,EAAE,CAACA,iBAAiB,CAAC,CAAC;EAEzD,OAAO;IAAEJ,WAAW;IAAEE,QAAQ;IAAEO,OAAO,EAAEL;EAAkB,CAAC;AAC9D,CAAC;AAACX,EAAA,CAzCWD,cAAc;EAAA,QACkBP,gBAAgB,EACFC,kBAAkB;AAAA"},"metadata":{},"sourceType":"module"}