{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nexport const useLocalState = (initialValue, key, {\n  valueType = 'string',\n  isStoredImmediately = false\n} = {}) => {\n  _s();\n  const storageValue = useMemo(() => window.localStorage.getItem(key), [key]);\n  const castedValue = useMemo(() => {\n    if (valueType === 'number') {\n      return parseInt(storageValue, 10);\n    }\n    if (valueType === 'boolean') {\n      return storageValue === 'true';\n    }\n    if (valueType === 'object') {\n      return JSON.parse(storageValue);\n    }\n    return storageValue;\n  }, [storageValue, valueType]);\n  const [value, setValue] = useState(castedValue || initialValue);\n  const updateValue = useCallback((val, shouldBeStored = false) => {\n    const result = typeof val === 'function' ? val(value) : val;\n    if (JSON.stringify(result) !== JSON.stringify(value)) {\n      setValue(result);\n    }\n    if ((!!isStoredImmediately || !!shouldBeStored) && !!key) {\n      window.localStorage.setItem(key, result);\n    }\n  }, [key, value, isStoredImmediately]);\n  useEffect(() => {\n    updateValue(value);\n  }, [key, value, updateValue]);\n  useEffect(() => {\n    if (!!key && !storageValue) {\n      localStorage.setItem(key, initialValue);\n    }\n  }, [key, initialValue, storageValue]);\n  return [value, updateValue, castedValue];\n};\n_s(useLocalState, \"3LG2UmohvtYg5f1QXPoNu+g9eK4=\");","map":{"version":3,"names":["useCallback","useEffect","useMemo","useState","useLocalState","initialValue","key","valueType","isStoredImmediately","_s","storageValue","window","localStorage","getItem","castedValue","parseInt","JSON","parse","value","setValue","updateValue","val","shouldBeStored","result","stringify","setItem"],"sources":["/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/hooks/useLocalState.js"],"sourcesContent":["import { useCallback, useEffect, useMemo, useState } from 'react';\n\nexport const useLocalState = (\n  initialValue,\n  key,\n  { valueType = 'string', isStoredImmediately = false } = {},\n) => {\n  const storageValue = useMemo(() => window.localStorage.getItem(key), [key]);\n  const castedValue = useMemo(() => {\n    if (valueType === 'number') {\n      return parseInt(storageValue, 10);\n    }\n    if (valueType === 'boolean') {\n      return storageValue === 'true';\n    }\n    if (valueType === 'object') {\n      return JSON.parse(storageValue);\n    }\n    return storageValue;\n  }, [storageValue, valueType]);\n\n  const [value, setValue] = useState(castedValue || initialValue);\n\n  const updateValue = useCallback(\n    (val, shouldBeStored = false) => {\n      const result = typeof val === 'function' ? val(value) : val;\n      if (JSON.stringify(result) !== JSON.stringify(value)) {\n        setValue(result);\n      }\n      if ((!!isStoredImmediately || !!shouldBeStored) && !!key) {\n        window.localStorage.setItem(key, result);\n      }\n    },\n    [key, value, isStoredImmediately],\n  );\n\n  useEffect(() => {\n    updateValue(value);\n  }, [key, value, updateValue]);\n\n  useEffect(() => {\n    if (!!key && !storageValue) {\n      localStorage.setItem(key, initialValue);\n    }\n  }, [key, initialValue, storageValue]);\n\n  return [value, updateValue, castedValue];\n};\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAEjE,OAAO,MAAMC,aAAa,GAAGA,CAC3BC,YAAY,EACZC,GAAG,EACH;EAAEC,SAAS,GAAG,QAAQ;EAAEC,mBAAmB,GAAG;AAAM,CAAC,GAAG,CAAC,CAAC,KACvD;EAAAC,EAAA;EACH,MAAMC,YAAY,GAAGR,OAAO,CAAC,MAAMS,MAAM,CAACC,YAAY,CAACC,OAAO,CAACP,GAAG,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;EAC3E,MAAMQ,WAAW,GAAGZ,OAAO,CAAC,MAAM;IAChC,IAAIK,SAAS,KAAK,QAAQ,EAAE;MAC1B,OAAOQ,QAAQ,CAACL,YAAY,EAAE,EAAE,CAAC;IACnC;IACA,IAAIH,SAAS,KAAK,SAAS,EAAE;MAC3B,OAAOG,YAAY,KAAK,MAAM;IAChC;IACA,IAAIH,SAAS,KAAK,QAAQ,EAAE;MAC1B,OAAOS,IAAI,CAACC,KAAK,CAACP,YAAY,CAAC;IACjC;IACA,OAAOA,YAAY;EACrB,CAAC,EAAE,CAACA,YAAY,EAAEH,SAAS,CAAC,CAAC;EAE7B,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAACW,WAAW,IAAIT,YAAY,CAAC;EAE/D,MAAMe,WAAW,GAAGpB,WAAW,CAC7B,CAACqB,GAAG,EAAEC,cAAc,GAAG,KAAK,KAAK;IAC/B,MAAMC,MAAM,GAAG,OAAOF,GAAG,KAAK,UAAU,GAAGA,GAAG,CAACH,KAAK,CAAC,GAAGG,GAAG;IAC3D,IAAIL,IAAI,CAACQ,SAAS,CAACD,MAAM,CAAC,KAAKP,IAAI,CAACQ,SAAS,CAACN,KAAK,CAAC,EAAE;MACpDC,QAAQ,CAACI,MAAM,CAAC;IAClB;IACA,IAAI,CAAC,CAAC,CAACf,mBAAmB,IAAI,CAAC,CAACc,cAAc,KAAK,CAAC,CAAChB,GAAG,EAAE;MACxDK,MAAM,CAACC,YAAY,CAACa,OAAO,CAACnB,GAAG,EAAEiB,MAAM,CAAC;IAC1C;EACF,CAAC,EACD,CAACjB,GAAG,EAAEY,KAAK,EAAEV,mBAAmB,CAClC,CAAC;EAEDP,SAAS,CAAC,MAAM;IACdmB,WAAW,CAACF,KAAK,CAAC;EACpB,CAAC,EAAE,CAACZ,GAAG,EAAEY,KAAK,EAAEE,WAAW,CAAC,CAAC;EAE7BnB,SAAS,CAAC,MAAM;IACd,IAAI,CAAC,CAACK,GAAG,IAAI,CAACI,YAAY,EAAE;MAC1BE,YAAY,CAACa,OAAO,CAACnB,GAAG,EAAED,YAAY,CAAC;IACzC;EACF,CAAC,EAAE,CAACC,GAAG,EAAED,YAAY,EAAEK,YAAY,CAAC,CAAC;EAErC,OAAO,CAACQ,KAAK,EAAEE,WAAW,EAAEN,WAAW,CAAC;AAC1C,CAAC;AAACL,EAAA,CA7CWL,aAAa"},"metadata":{},"sourceType":"module"}