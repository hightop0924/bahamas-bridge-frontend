{"ast":null,"code":"export var TRACEPARENT_REGEXP = new RegExp('^[ \\\\t]*' +\n// whitespace\n'([0-9a-f]{32})?' +\n// trace_id\n'-?([0-9a-f]{16})?' +\n// span_id\n'-?([01])?' +\n// sampled\n'[ \\\\t]*$');\n/**\n * Extract transaction context data from a `sentry-trace` header.\n *\n * @param traceparent Traceparent string\n *\n * @returns Object containing data from the header, or undefined if traceparent string is malformed\n */\nexport function extractTraceparentData(traceparent) {\n  var matches = traceparent.match(TRACEPARENT_REGEXP);\n  if (matches) {\n    var parentSampled = void 0;\n    if (matches[3] === '1') {\n      parentSampled = true;\n    } else if (matches[3] === '0') {\n      parentSampled = false;\n    }\n    return {\n      traceId: matches[1],\n      parentSampled: parentSampled,\n      parentSpanId: matches[2]\n    };\n  }\n  return undefined;\n}","map":{"version":3,"sources":["../../src/tracing.ts"],"names":[],"mappings":"AAEA,OAAO,IAAM,kBAAkB,GAAG,IAAI,MAAM,CAC1C,UAAU;AAAG;AACX,iBAAiB;AAAG;AACpB,mBAAmB;AAAG;AACtB,WAAW;AAAG;AACd,UAAU,CACb;AAED;;;;;;AAMG;AACH,OAAM,SAAU,sBAAsB,CAAC,WAAmB,EAAA;EACxD,IAAM,OAAO,GAAG,WAAW,CAAC,KAAK,CAAC,kBAAkB,CAAC;EACrD,IAAI,OAAO,EAAE;IACX,IAAI,aAAa,GAAA,KAAA,CAAqB;IACtC,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACtB,aAAa,GAAG,IAAI;KACrB,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC7B,aAAa,GAAG,KAAK;IACtB;IACD,OAAO;MACL,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;MACnB,aAAa,EAAA,aAAA;MACb,YAAY,EAAE,OAAO,CAAC,CAAC;KACxB;EACF;EACD,OAAO,SAAS;AAClB","sourcesContent":["import { TraceparentData } from '@sentry/types';\n\nexport const TRACEPARENT_REGEXP = new RegExp(\n  '^[ \\\\t]*' + // whitespace\n    '([0-9a-f]{32})?' + // trace_id\n    '-?([0-9a-f]{16})?' + // span_id\n    '-?([01])?' + // sampled\n    '[ \\\\t]*$', // whitespace\n);\n\n/**\n * Extract transaction context data from a `sentry-trace` header.\n *\n * @param traceparent Traceparent string\n *\n * @returns Object containing data from the header, or undefined if traceparent string is malformed\n */\nexport function extractTraceparentData(traceparent: string): TraceparentData | undefined {\n  const matches = traceparent.match(TRACEPARENT_REGEXP);\n  if (matches) {\n    let parentSampled: boolean | undefined;\n    if (matches[3] === '1') {\n      parentSampled = true;\n    } else if (matches[3] === '0') {\n      parentSampled = false;\n    }\n    return {\n      traceId: matches[1],\n      parentSampled,\n      parentSpanId: matches[2],\n    };\n  }\n  return undefined;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}