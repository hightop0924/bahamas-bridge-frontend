{"ast":null,"code":"var _jsxFileName = \"/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/components/bridge/SwitchButton.jsx\",\n  _s = $RefreshSig$();\nimport { IconButton, Tooltip } from '@chakra-ui/react';\nimport { useBridgeContext } from 'contexts/BridgeContext';\nimport { useWeb3Context } from 'contexts/Web3Context';\nimport { useSwitchChain } from 'hooks/useSwitchChain';\nimport { SwitchIcon } from 'icons/SwitchIcon';\nimport React, { useCallback, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SwitchButton = () => {\n  _s();\n  var _navigator$userAgent$, _navigator, _navigator$userAgent;\n  const {\n    isConnected,\n    providerChainId,\n    isMetamask\n  } = useWeb3Context();\n  const {\n    switchTokens,\n    toToken\n  } = useBridgeContext();\n  const switchChain = useSwitchChain();\n  const isDefaultChain = [1, 3, 4, 5, 42].includes(toToken === null || toToken === void 0 ? void 0 : toToken.chainId);\n  const isMobileBrowser = (_navigator$userAgent$ = (_navigator = navigator) === null || _navigator === void 0 ? void 0 : (_navigator$userAgent = _navigator.userAgent) === null || _navigator$userAgent === void 0 ? void 0 : _navigator$userAgent.includes('Mobile')) !== null && _navigator$userAgent$ !== void 0 ? _navigator$userAgent$ : false;\n  const canSwitchInWallet = isConnected && isMetamask && (isMobileBrowser ? !isDefaultChain : true);\n  const [loading, setLoading] = useState(false);\n  const switchOnClick = useCallback(() => (async () => {\n    setLoading(true);\n    if (canSwitchInWallet && providerChainId !== (toToken === null || toToken === void 0 ? void 0 : toToken.chainId)) {\n      await switchChain(toToken === null || toToken === void 0 ? void 0 : toToken.chainId);\n    } else {\n      switchTokens();\n    }\n    setLoading(false);\n  })(), [switchChain, providerChainId, canSwitchInWallet, switchTokens, toToken]);\n  return /*#__PURE__*/_jsxDEV(Tooltip, {\n    label: \"Switch direction of bridge\",\n    children: /*#__PURE__*/_jsxDEV(IconButton, {\n      icon: /*#__PURE__*/_jsxDEV(SwitchIcon, {\n        boxSize: \"2rem\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }, this),\n      p: \"0.5rem\",\n      variant: \"ghost\",\n      position: \"absolute\",\n      top: {\n        base: '50%',\n        lg: '0'\n      },\n      left: {\n        base: '0',\n        lg: '50%'\n      },\n      transform: {\n        base: 'translateY(-50%) translateX(0.5rem) rotate(90deg)',\n        lg: 'translateX(-50%) translateY(calc(-100% - 1.25rem))'\n      },\n      borderRadius: \"0.5rem\",\n      color: \"blue.500\",\n      _hover: {\n        bg: '#EEF4FD'\n      },\n      onClick: switchOnClick,\n      isLoading: loading,\n      _loading: {\n        bg: '#EEF4FD'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(SwitchButton, \"R8RePDRxllwqntMaqM11SDL344c=\", false, function () {\n  return [useWeb3Context, useBridgeContext, useSwitchChain];\n});\n_c = SwitchButton;\nvar _c;\n$RefreshReg$(_c, \"SwitchButton\");","map":{"version":3,"names":["IconButton","Tooltip","useBridgeContext","useWeb3Context","useSwitchChain","SwitchIcon","React","useCallback","useState","jsxDEV","_jsxDEV","SwitchButton","_s","_navigator$userAgent$","_navigator","_navigator$userAgent","isConnected","providerChainId","isMetamask","switchTokens","toToken","switchChain","isDefaultChain","includes","chainId","isMobileBrowser","navigator","userAgent","canSwitchInWallet","loading","setLoading","switchOnClick","label","children","icon","boxSize","fileName","_jsxFileName","lineNumber","columnNumber","p","variant","position","top","base","lg","left","transform","borderRadius","color","_hover","bg","onClick","isLoading","_loading","_c","$RefreshReg$"],"sources":["/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/components/bridge/SwitchButton.jsx"],"sourcesContent":["import { IconButton, Tooltip } from '@chakra-ui/react';\nimport { useBridgeContext } from 'contexts/BridgeContext';\nimport { useWeb3Context } from 'contexts/Web3Context';\nimport { useSwitchChain } from 'hooks/useSwitchChain';\nimport { SwitchIcon } from 'icons/SwitchIcon';\nimport React, { useCallback, useState } from 'react';\n\nexport const SwitchButton = () => {\n  const { isConnected, providerChainId, isMetamask } = useWeb3Context();\n\n  const { switchTokens, toToken } = useBridgeContext();\n  const switchChain = useSwitchChain();\n\n  const isDefaultChain = [1, 3, 4, 5, 42].includes(toToken?.chainId);\n  const isMobileBrowser = navigator?.userAgent?.includes('Mobile') ?? false;\n  const canSwitchInWallet =\n    isConnected && isMetamask && (isMobileBrowser ? !isDefaultChain : true);\n\n  const [loading, setLoading] = useState(false);\n\n  const switchOnClick = useCallback(\n    () =>\n      (async () => {\n        setLoading(true);\n        if (canSwitchInWallet && providerChainId !== toToken?.chainId) {\n          await switchChain(toToken?.chainId);\n        } else {\n          switchTokens();\n        }\n        setLoading(false);\n      })(),\n    [switchChain, providerChainId, canSwitchInWallet, switchTokens, toToken],\n  );\n\n  return (\n    <Tooltip label=\"Switch direction of bridge\">\n      <IconButton\n        icon={<SwitchIcon boxSize=\"2rem\" />}\n        p=\"0.5rem\"\n        variant=\"ghost\"\n        position=\"absolute\"\n        top={{ base: '50%', lg: '0' }}\n        left={{ base: '0', lg: '50%' }}\n        transform={{\n          base: 'translateY(-50%) translateX(0.5rem) rotate(90deg)',\n          lg: 'translateX(-50%) translateY(calc(-100% - 1.25rem))',\n        }}\n        borderRadius=\"0.5rem\"\n        color=\"blue.500\"\n        _hover={{ bg: '#EEF4FD' }}\n        onClick={switchOnClick}\n        isLoading={loading}\n        _loading={{\n          bg: '#EEF4FD',\n        }}\n      />\n    </Tooltip>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}