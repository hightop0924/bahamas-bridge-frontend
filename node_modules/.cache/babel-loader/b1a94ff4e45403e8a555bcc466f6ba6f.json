{"ast":null,"code":"var _jsxFileName = \"/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/components/history/ManualClaim.jsx\",\n  _s = $RefreshSig$();\nimport { Button, Flex, Input, InputGroup, InputRightElement, Text, useToast } from '@chakra-ui/react';\nimport { useWeb3Context } from 'contexts/Web3Context';\nimport { useClaim } from 'hooks/useClaim';\nimport { isRevertedError, TOKENS_CLAIMED } from 'lib/amb';\nimport { handleWalletError, logError } from 'lib/helpers';\nimport React, { useCallback, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ManualClaim = ({\n  handleClaimError\n}) => {\n  _s();\n  const {\n    isConnected\n  } = useWeb3Context();\n  const [txHash, setTxHash] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    claim,\n    executing\n  } = useClaim();\n  const toast = useToast();\n  const showError = useCallback(msg => {\n    if (msg) {\n      toast({\n        title: 'Error',\n        description: msg,\n        status: 'error',\n        isClosable: 'true'\n      });\n    }\n  }, [toast]);\n  const claimTokens = useCallback(async () => {\n    if (!txHash) return;\n    setLoading(true);\n    try {\n      await claim(txHash);\n      setTxHash('');\n    } catch (manualClaimError) {\n      logError({\n        manualClaimError\n      });\n      if ((manualClaimError === null || manualClaimError === void 0 ? void 0 : manualClaimError.message) === TOKENS_CLAIMED || isRevertedError(manualClaimError)) {\n        setTxHash('');\n        handleClaimError();\n      } else {\n        handleWalletError(manualClaimError, showError);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [claim, txHash, showError, handleClaimError]);\n  if (!isConnected) return null;\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    w: \"100%\",\n    justify: \"space-between\",\n    mb: \"4\",\n    align: \"center\",\n    bg: \"white\",\n    p: \"1rem\",\n    borderRadius: \"0.5rem\",\n    boxShadow: \"0px 1rem 2rem rgba(204, 218, 238, 0.8)\",\n    direction: {\n      base: 'column',\n      lg: 'row'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      direction: \"column\",\n      fontSize: \"sm\",\n      w: \"100%\",\n      minW: {\n        base: 'auto',\n        lg: '25rem'\n      },\n      mb: {\n        base: '2',\n        lg: '0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        color: \"black\",\n        children: \"Can't find your transfer to claim tokens?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        color: \"greyText\",\n        children: [\"Enter the transaction hash where the token transfer happened\", ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        borderColor: \"#DAE3F0\",\n        bg: \"white\",\n        fontSize: \"sm\",\n        placeholder: \"Transaction Hash\",\n        value: txHash,\n        onChange: e => setTxHash(e.target.value),\n        pr: \"6rem\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputRightElement, {\n        minW: \"5rem\",\n        pr: 1,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          w: \"100%\",\n          size: \"sm\",\n          colorScheme: \"blue\",\n          onClick: claimTokens,\n          isDisabled: !txHash,\n          isLoading: loading || executing,\n          children: \"Claim\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(ManualClaim, \"w+Ys4ygwJP+jc7AM1Ot9lhNNtAI=\", false, function () {\n  return [useWeb3Context, useClaim, useToast];\n});\n_c = ManualClaim;\nvar _c;\n$RefreshReg$(_c, \"ManualClaim\");","map":{"version":3,"names":["Button","Flex","Input","InputGroup","InputRightElement","Text","useToast","useWeb3Context","useClaim","isRevertedError","TOKENS_CLAIMED","handleWalletError","logError","React","useCallback","useState","jsxDEV","_jsxDEV","ManualClaim","handleClaimError","_s","isConnected","txHash","setTxHash","loading","setLoading","claim","executing","toast","showError","msg","title","description","status","isClosable","claimTokens","manualClaimError","message","w","justify","mb","align","bg","p","borderRadius","boxShadow","direction","base","lg","children","fontSize","minW","color","fileName","_jsxFileName","lineNumber","columnNumber","borderColor","placeholder","value","onChange","e","target","pr","size","colorScheme","onClick","isDisabled","isLoading","_c","$RefreshReg$"],"sources":["/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/components/history/ManualClaim.jsx"],"sourcesContent":["import {\n  Button,\n  Flex,\n  Input,\n  InputGroup,\n  InputRightElement,\n  Text,\n  useToast,\n} from '@chakra-ui/react';\nimport { useWeb3Context } from 'contexts/Web3Context';\nimport { useClaim } from 'hooks/useClaim';\nimport { isRevertedError, TOKENS_CLAIMED } from 'lib/amb';\nimport { handleWalletError, logError } from 'lib/helpers';\nimport React, { useCallback, useState } from 'react';\n\nexport const ManualClaim = ({ handleClaimError }) => {\n  const { isConnected } = useWeb3Context();\n  const [txHash, setTxHash] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { claim, executing } = useClaim();\n\n  const toast = useToast();\n  const showError = useCallback(\n    msg => {\n      if (msg) {\n        toast({\n          title: 'Error',\n          description: msg,\n          status: 'error',\n          isClosable: 'true',\n        });\n      }\n    },\n    [toast],\n  );\n\n  const claimTokens = useCallback(async () => {\n    if (!txHash) return;\n    setLoading(true);\n    try {\n      await claim(txHash);\n      setTxHash('');\n    } catch (manualClaimError) {\n      logError({ manualClaimError });\n      if (\n        manualClaimError?.message === TOKENS_CLAIMED ||\n        isRevertedError(manualClaimError)\n      ) {\n        setTxHash('');\n        handleClaimError();\n      } else {\n        handleWalletError(manualClaimError, showError);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [claim, txHash, showError, handleClaimError]);\n\n  if (!isConnected) return null;\n\n  return (\n    <Flex\n      w=\"100%\"\n      justify=\"space-between\"\n      mb=\"4\"\n      align=\"center\"\n      bg=\"white\"\n      p=\"1rem\"\n      borderRadius=\"0.5rem\"\n      boxShadow=\"0px 1rem 2rem rgba(204, 218, 238, 0.8)\"\n      direction={{ base: 'column', lg: 'row' }}\n    >\n      <Flex\n        direction=\"column\"\n        fontSize=\"sm\"\n        w=\"100%\"\n        minW={{ base: 'auto', lg: '25rem' }}\n        mb={{ base: '2', lg: '0' }}\n      >\n        <Text color=\"black\">\n          Can&apos;t find your transfer to claim tokens?\n        </Text>\n        <Text color=\"greyText\">\n          Enter the transaction hash where the token transfer happened{' '}\n        </Text>\n      </Flex>\n      <InputGroup>\n        <Input\n          borderColor=\"#DAE3F0\"\n          bg=\"white\"\n          fontSize=\"sm\"\n          placeholder=\"Transaction Hash\"\n          value={txHash}\n          onChange={e => setTxHash(e.target.value)}\n          pr=\"6rem\"\n        />\n        <InputRightElement minW=\"5rem\" pr={1}>\n          <Button\n            w=\"100%\"\n            size=\"sm\"\n            colorScheme=\"blue\"\n            onClick={claimTokens}\n            isDisabled={!txHash}\n            isLoading={loading || executing}\n          >\n            Claim\n          </Button>\n        </InputRightElement>\n      </InputGroup>\n    </Flex>\n  );\n};\n"],"mappings":";;AAAA,SACEA,MAAM,EACNC,IAAI,EACJC,KAAK,EACLC,UAAU,EACVC,iBAAiB,EACjBC,IAAI,EACJC,QAAQ,QACH,kBAAkB;AACzB,SAASC,cAAc,QAAQ,sBAAsB;AACrD,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,eAAe,EAAEC,cAAc,QAAQ,SAAS;AACzD,SAASC,iBAAiB,EAAEC,QAAQ,QAAQ,aAAa;AACzD,OAAOC,KAAK,IAAIC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,OAAO,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EACnD,MAAM;IAAEC;EAAY,CAAC,GAAGd,cAAc,CAAC,CAAC;EACxC,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM;IAAEW,KAAK;IAAEC;EAAU,CAAC,GAAGnB,QAAQ,CAAC,CAAC;EAEvC,MAAMoB,KAAK,GAAGtB,QAAQ,CAAC,CAAC;EACxB,MAAMuB,SAAS,GAAGf,WAAW,CAC3BgB,GAAG,IAAI;IACL,IAAIA,GAAG,EAAE;MACPF,KAAK,CAAC;QACJG,KAAK,EAAE,OAAO;QACdC,WAAW,EAAEF,GAAG;QAChBG,MAAM,EAAE,OAAO;QACfC,UAAU,EAAE;MACd,CAAC,CAAC;IACJ;EACF,CAAC,EACD,CAACN,KAAK,CACR,CAAC;EAED,MAAMO,WAAW,GAAGrB,WAAW,CAAC,YAAY;IAC1C,IAAI,CAACQ,MAAM,EAAE;IACbG,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMC,KAAK,CAACJ,MAAM,CAAC;MACnBC,SAAS,CAAC,EAAE,CAAC;IACf,CAAC,CAAC,OAAOa,gBAAgB,EAAE;MACzBxB,QAAQ,CAAC;QAAEwB;MAAiB,CAAC,CAAC;MAC9B,IACE,CAAAA,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEC,OAAO,MAAK3B,cAAc,IAC5CD,eAAe,CAAC2B,gBAAgB,CAAC,EACjC;QACAb,SAAS,CAAC,EAAE,CAAC;QACbJ,gBAAgB,CAAC,CAAC;MACpB,CAAC,MAAM;QACLR,iBAAiB,CAACyB,gBAAgB,EAAEP,SAAS,CAAC;MAChD;IACF,CAAC,SAAS;MACRJ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACC,KAAK,EAAEJ,MAAM,EAAEO,SAAS,EAAEV,gBAAgB,CAAC,CAAC;EAEhD,IAAI,CAACE,WAAW,EAAE,OAAO,IAAI;EAE7B,oBACEJ,OAAA,CAAChB,IAAI;IACHqC,CAAC,EAAC,MAAM;IACRC,OAAO,EAAC,eAAe;IACvBC,EAAE,EAAC,GAAG;IACNC,KAAK,EAAC,QAAQ;IACdC,EAAE,EAAC,OAAO;IACVC,CAAC,EAAC,MAAM;IACRC,YAAY,EAAC,QAAQ;IACrBC,SAAS,EAAC,wCAAwC;IAClDC,SAAS,EAAE;MAAEC,IAAI,EAAE,QAAQ;MAAEC,EAAE,EAAE;IAAM,CAAE;IAAAC,QAAA,gBAEzChC,OAAA,CAAChB,IAAI;MACH6C,SAAS,EAAC,QAAQ;MAClBI,QAAQ,EAAC,IAAI;MACbZ,CAAC,EAAC,MAAM;MACRa,IAAI,EAAE;QAAEJ,IAAI,EAAE,MAAM;QAAEC,EAAE,EAAE;MAAQ,CAAE;MACpCR,EAAE,EAAE;QAAEO,IAAI,EAAE,GAAG;QAAEC,EAAE,EAAE;MAAI,CAAE;MAAAC,QAAA,gBAE3BhC,OAAA,CAACZ,IAAI;QAAC+C,KAAK,EAAC,OAAO;QAAAH,QAAA,EAAC;MAEpB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACPvC,OAAA,CAACZ,IAAI;QAAC+C,KAAK,EAAC,UAAU;QAAAH,QAAA,GAAC,8DACuC,EAAC,GAAG;MAAA;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACPvC,OAAA,CAACd,UAAU;MAAA8C,QAAA,gBACThC,OAAA,CAACf,KAAK;QACJuD,WAAW,EAAC,SAAS;QACrBf,EAAE,EAAC,OAAO;QACVQ,QAAQ,EAAC,IAAI;QACbQ,WAAW,EAAC,kBAAkB;QAC9BC,KAAK,EAAErC,MAAO;QACdsC,QAAQ,EAAEC,CAAC,IAAItC,SAAS,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QACzCI,EAAE,EAAC;MAAM;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACFvC,OAAA,CAACb,iBAAiB;QAAC+C,IAAI,EAAC,MAAM;QAACY,EAAE,EAAE,CAAE;QAAAd,QAAA,eACnChC,OAAA,CAACjB,MAAM;UACLsC,CAAC,EAAC,MAAM;UACR0B,IAAI,EAAC,IAAI;UACTC,WAAW,EAAC,MAAM;UAClBC,OAAO,EAAE/B,WAAY;UACrBgC,UAAU,EAAE,CAAC7C,MAAO;UACpB8C,SAAS,EAAE5C,OAAO,IAAIG,SAAU;UAAAsB,QAAA,EACjC;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEX,CAAC;AAACpC,EAAA,CAhGWF,WAAW;EAAA,QACEX,cAAc,EAGTC,QAAQ,EAEvBF,QAAQ;AAAA;AAAA+D,EAAA,GANXnD,WAAW;AAAA,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}