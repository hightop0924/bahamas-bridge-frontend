{"ast":null,"code":"var _jsxFileName = \"/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/components/common/WalletSelector.jsx\",\n  _s = $RefreshSig$();\nimport { Button, Flex, Popover, PopoverBody, PopoverContent, PopoverTrigger, Text, useBreakpointValue } from '@chakra-ui/react';\nimport Davatar from '@davatar/react';\nimport { useBridgeContext } from 'contexts/BridgeContext';\nimport { useWeb3Context } from 'contexts/Web3Context';\nimport { useBridgeDirection } from 'hooks/useBridgeDirection';\nimport { useENS } from 'hooks/useENS';\nimport { WalletIcon } from 'icons/WalletIcon';\nimport { getAccountString, getNetworkLabel } from 'lib/helpers';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { WalletInfo } from './WalletInfo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WalletSelector = ({\n  close\n}) => {\n  _s();\n  const {\n    account,\n    loading,\n    providerChainId,\n    connectWeb3\n  } = useWeb3Context();\n  const {\n    ensName\n  } = useENS(account);\n  const {\n    fromToken\n  } = useBridgeContext();\n  const {\n    homeChainId,\n    foreignChainId\n  } = useBridgeDirection();\n  const {\n    location: {\n      pathname\n    }\n  } = useHistory();\n  let isInvalid = false;\n  if (pathname === '/history') {\n    isInvalid = loading ? false : ![homeChainId, foreignChainId].includes(providerChainId);\n  } else {\n    isInvalid = loading || !fromToken ? false : providerChainId !== (fromToken === null || fromToken === void 0 ? void 0 : fromToken.chainId);\n  }\n  const placement = useBreakpointValue({\n    base: 'bottom',\n    md: 'bottom-end'\n  });\n  if (!account || !providerChainId) return /*#__PURE__*/_jsxDEV(Button, {\n    colorScheme: \"blue\",\n    onClick: connectWeb3,\n    leftIcon: /*#__PURE__*/_jsxDEV(WalletIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }, this),\n    children: \"Connect Wallet\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    children: /*#__PURE__*/_jsxDEV(Popover, {\n      placement: placement,\n      children: [/*#__PURE__*/_jsxDEV(PopoverTrigger, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          colorScheme: isInvalid ? 'red' : 'blue',\n          px: 3,\n          children: [/*#__PURE__*/_jsxDEV(Davatar, {\n            address: account,\n            size: 20,\n            generatedAvatarType: \"jazzicon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"sm\",\n            ml: \"2\",\n            children: ensName || getAccountString(account)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Flex, {\n            justify: \"center\",\n            align: \"center\",\n            bg: \"white\",\n            borderRadius: \"6px\",\n            px: {\n              base: 3,\n              md: 2,\n              lg: 3\n            },\n            height: \"2rem\",\n            fontSize: \"sm\",\n            color: \"blue.500\",\n            fontWeight: \"600\",\n            ml: 3,\n            children: getNetworkLabel(providerChainId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PopoverContent, {\n        border: \"none\",\n        right: 0,\n        p: \"0\",\n        children: /*#__PURE__*/_jsxDEV(PopoverBody, {\n          width: \"100%\",\n          align: \"center\",\n          boxShadow: \"0 0.5rem 1rem #CADAEF\",\n          p: 4,\n          children: /*#__PURE__*/_jsxDEV(WalletInfo, {\n            close\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(WalletSelector, \"I6Z3/w2ADmJFUvMct/LVuhV8Vzw=\", false, function () {\n  return [useWeb3Context, useENS, useBridgeContext, useBridgeDirection, useHistory, useBreakpointValue];\n});\n_c = WalletSelector;\nvar _c;\n$RefreshReg$(_c, \"WalletSelector\");","map":{"version":3,"names":["Button","Flex","Popover","PopoverBody","PopoverContent","PopoverTrigger","Text","useBreakpointValue","Davatar","useBridgeContext","useWeb3Context","useBridgeDirection","useENS","WalletIcon","getAccountString","getNetworkLabel","React","useHistory","WalletInfo","jsxDEV","_jsxDEV","WalletSelector","close","_s","account","loading","providerChainId","connectWeb3","ensName","fromToken","homeChainId","foreignChainId","location","pathname","isInvalid","includes","chainId","placement","base","md","colorScheme","onClick","leftIcon","fileName","_jsxFileName","lineNumber","columnNumber","children","px","address","size","generatedAvatarType","fontSize","ml","justify","align","bg","borderRadius","lg","height","color","fontWeight","border","right","p","width","boxShadow","_c","$RefreshReg$"],"sources":["/home/hightop/bahamas_bridge/omnibridge-ui/packages/dapp/src/components/common/WalletSelector.jsx"],"sourcesContent":["import {\n  Button,\n  Flex,\n  Popover,\n  PopoverBody,\n  PopoverContent,\n  PopoverTrigger,\n  Text,\n  useBreakpointValue,\n} from '@chakra-ui/react';\nimport Davatar from '@davatar/react';\nimport { useBridgeContext } from 'contexts/BridgeContext';\nimport { useWeb3Context } from 'contexts/Web3Context';\nimport { useBridgeDirection } from 'hooks/useBridgeDirection';\nimport { useENS } from 'hooks/useENS';\nimport { WalletIcon } from 'icons/WalletIcon';\nimport { getAccountString, getNetworkLabel } from 'lib/helpers';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { WalletInfo } from './WalletInfo';\n\nexport const WalletSelector = ({ close }) => {\n  const { account, loading, providerChainId, connectWeb3 } = useWeb3Context();\n  const { ensName } = useENS(account);\n  const { fromToken } = useBridgeContext();\n  const { homeChainId, foreignChainId } = useBridgeDirection();\n  const {\n    location: { pathname },\n  } = useHistory();\n\n  let isInvalid = false;\n\n  if (pathname === '/history') {\n    isInvalid = loading\n      ? false\n      : ![homeChainId, foreignChainId].includes(providerChainId);\n  } else {\n    isInvalid =\n      loading || !fromToken ? false : providerChainId !== fromToken?.chainId;\n  }\n\n  const placement = useBreakpointValue({ base: 'bottom', md: 'bottom-end' });\n  if (!account || !providerChainId)\n    return (\n      <Button\n        colorScheme=\"blue\"\n        onClick={connectWeb3}\n        leftIcon={<WalletIcon />}\n      >\n        Connect Wallet\n      </Button>\n    );\n  return (\n    <Flex>\n      <Popover placement={placement}>\n        <PopoverTrigger>\n          <Button colorScheme={isInvalid ? 'red' : 'blue'} px={3}>\n            <Davatar\n              address={account}\n              size={20}\n              generatedAvatarType=\"jazzicon\"\n            />\n            <Text fontSize=\"sm\" ml=\"2\">\n              {ensName || getAccountString(account)}\n            </Text>\n            <Flex\n              justify=\"center\"\n              align=\"center\"\n              bg=\"white\"\n              borderRadius=\"6px\"\n              px={{ base: 3, md: 2, lg: 3 }}\n              height=\"2rem\"\n              fontSize=\"sm\"\n              color=\"blue.500\"\n              fontWeight=\"600\"\n              ml={3}\n            >\n              {getNetworkLabel(providerChainId)}\n            </Flex>\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent border=\"none\" right={0} p=\"0\">\n          <PopoverBody\n            width=\"100%\"\n            align=\"center\"\n            boxShadow=\"0 0.5rem 1rem #CADAEF\"\n            p={4}\n          >\n            <WalletInfo {...{ close }} />\n          </PopoverBody>\n        </PopoverContent>\n      </Popover>\n    </Flex>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}