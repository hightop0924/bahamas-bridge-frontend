{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nvar AsapAction = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(AsapAction, _super);\n  function AsapAction(scheduler, work) {\n    var _this = _super.call(this, scheduler, work) || this;\n    _this.scheduler = scheduler;\n    _this.work = work;\n    return _this;\n  }\n  AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n    if (delay !== null && delay > 0) {\n      return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n    }\n    scheduler.actions.push(this);\n    return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n  };\n  AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n    if (delay !== null && delay > 0 || delay === null && this.delay > 0) {\n      return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n    }\n    if (scheduler.actions.length === 0) {\n      Immediate.clearImmediate(id);\n      scheduler.scheduled = undefined;\n    }\n    return undefined;\n  };\n  return AsapAction;\n}(AsyncAction);\nexport { AsapAction };","map":{"version":3,"sources":["../../../src/internal/scheduler/AsapAction.ts"],"names":[],"mappings":";AAAA,OAAO,KAAE,OAAS,MAAE,OAAM;AAC1B,SAAS,SAAA,QAAa,mBAAsB;AAQ5C,SAAA,WAAA,QAAA,eAAA;IAAmC,UAAA,GAAA,aAAA,UAAc,MAAA,EAAA;EAE/C,OAAA,CAAA,SAAA,CAAA,UAAsB,EAAwB,MAC2B,CAAA;EADzE,SAAA,UAEE,CAAA,SAAA,EAAA,IAAM,EAAA;IAFc,IAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAwB,EAAA,SAAA,EAAA,IAAA,CAAA,IAAA,IAAA;IACxB,KAAA,CAAA,SAAA,GAAmD,SAAA;;IAExE,OAAA,KAAA;EAED;EAA6D,UAAA,CAAA,SAAA,CAAA,cAAA,GAAiB,UAAA,SAAA,EAAA,EAAA,EAAA,KAAA,EAAA;IAE5E,IAAI,KAAK,KAAK,KAAI,CAAA,EAAI;MACpB,KAAA,GAAO,CAAA;IACR;IAED,IAAA,KAAS,KAAC,IAAQ,IAAI,KAAK,GAAE,CAAA,EAAA;MAI7B,OAAO,MAAU,CAAA,SAAS,CAAA,cAAe,CAAA,IAAA,CAAA,IAAS,EAAG,SAAU,EAAA,EAAA,EAAA,KAAA,CAAY;IAG5E;IACS,SAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAV;IAA6D,OAAA,SAAA,CAAA,SAAA,KAAA,SAAiB,CAAA,SAAA,GAAA,SAAA,CAAA,YAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,EAAA,IAAA,CAAA,CAAA,CAAA;GAI5E;EACE,UAAA,CAAA,SAAO,CAAA,cAAM,GAAA,UAAc,SAAA,EAAC,EAAA,EAAA,KAAS,EAAE;IACxC,IAAA,KAAA,KAAA,KAAA,CAAA,EAAA;MAIG,KAAA,GAAA,CAAS;IACX;IACA,IAAA,KAAA,KAAU,IAAA,IAAS,KAAG,GAAA,CAAA,IAAU,KAAA,KAAA,IAAA,IAAA,IAAA,CAAA,KAAA,GAAA,CAAA,EAAA;MACjC,OAAA,MAAA,CAAA,SAAA,CAAA,cAAA,CAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,EAAA,EAAA,KAAA,CAAA;IAED;IACD,IAAA,SAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA,EAAA;MACH,SAAC,CAAA,cAAA,CAAA,EAAA,CAAA;MAtCkC,SAsClC,CAAA,SAAA,GAAA,SAAA","sourcesContent":["/** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nvar AsapAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction));\nexport { AsapAction };\n//# sourceMappingURL=AsapAction.js.map\n"]},"metadata":{},"sourceType":"module"}