{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(Subscriber, _super);\n  function Subscriber(destinationOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n    _this.syncErrorValue = null;\n    _this.syncErrorThrown = false;\n    _this.syncErrorThrowable = false;\n    _this.isStopped = false;\n    switch (arguments.length) {\n      case 0:\n        _this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          _this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            _this.destination = destinationOrNext;\n            destinationOrNext.add(_this);\n          } else {\n            _this.syncErrorThrowable = true;\n            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n          }\n          break;\n        }\n      default:\n        _this.syncErrorThrowable = true;\n        _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n        break;\n    }\n    return _this;\n  }\n  Subscriber.prototype[rxSubscriberSymbol] = function () {\n    return this;\n  };\n  Subscriber.create = function (next, error, complete) {\n    var subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  };\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  };\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  };\n  Subscriber.prototype.complete = function () {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  };\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    _super.prototype.unsubscribe.call(this);\n  };\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n  Subscriber.prototype._error = function (err) {\n    this.destination.error(err);\n    this.unsubscribe();\n  };\n  Subscriber.prototype._complete = function () {\n    this.destination.complete();\n    this.unsubscribe();\n  };\n  Subscriber.prototype._unsubscribeAndRecycle = function () {\n    var _parentOrParents = this._parentOrParents;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  };\n  return Subscriber;\n}(Subscription);\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SafeSubscriber, _super);\n  function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n    _this._parentSubscriber = _parentSubscriber;\n    var next;\n    var context = _this;\n    if (isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next;\n      error = observerOrNext.error;\n      complete = observerOrNext.complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          _this.add(context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = _this.unsubscribe.bind(_this);\n      }\n    }\n    _this._context = context;\n    _this._next = next;\n    _this._error = error;\n    _this._complete = complete;\n    return _this;\n  }\n  SafeSubscriber.prototype.next = function (value) {\n    if (!this.isStopped && this._next) {\n      var _parentSubscriber = this._parentSubscriber;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  };\n  SafeSubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n      var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  };\n  SafeSubscriber.prototype.complete = function () {\n    var _this = this;\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n      if (this._complete) {\n        var wrappedComplete = function () {\n          return _this._complete.call(_this._context);\n        };\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  };\n  SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  };\n  SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  };\n  SafeSubscriber.prototype._unsubscribe = function () {\n    var _parentSubscriber = this._parentSubscriber;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  };\n  return SafeSubscriber;\n}(Subscriber);\nexport { SafeSubscriber };","map":{"version":3,"sources":["../../src/internal/Subscriber.ts"],"names":[],"mappings":"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","sourcesContent":["/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n"]},"metadata":{},"sourceType":"module"}